@model DeleteUserViewModel
@{
    ViewData["Title"] = "DeleteUser";
}

<div class="container">
    <h3 class="text-center mt-2">Delete User</h3>

    @* @if (ViewData.ModelState.Count > 0)
    {
        <div class="alert alert-danger">
            @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
            {
                <p>@error.ErrorMessage</p>
            }
        </div>
    } *@

    @if (ViewData.ModelState.Any(ms => ms.Value.Errors.Count > 0))
    {
        <div class="alert alert-danger">
            @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
            {
                <p>@error.ErrorMessage</p>
            }
        </div>
    }

    <div class="alert alert-danger">
        <strong>Warning!</strong> Are You sure you want to delete this user?
    </div>

    <div class="card mt-3">
        <div class="card-body">
            <h5 class="card-title">Username: @Model.Username</h5>
            <p><strong>Name:</strong> @(Model.FirstName + Model.LastName ?? "N/A")</p>
            <p><strong>Email:</strong> @(Model.Email ?? "N/A")</p>
            <p><strong>Phone Number:</strong> @(Model.PhoneNumber ?? "N/A")</p>
            <p><strong>Role:</strong> @(Model.Roles ?? "N/A")</p>
        </div>
    </div>

    <form asp-action="DeleteUserConfirmed" method="post">
        <input type="hidden" asp-for="Id" />

        <button type="submit" class="btn btn-outline-danger mt-3">Delete</button>
        <a asp-action="ShowUsers" class="btn btn-outline-primary mt-3">Cancel</a>
    </form>
</div>
